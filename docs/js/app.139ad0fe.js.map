{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Home.vue?6f8d","webpack:///./src/App.vue?bcb1","webpack:///./src/components/ColorTool.vue?54d8","webpack:///./src/components/ViewTool.vue?dd51","webpack:///./src/App.vue?becb","webpack:///./src/App.vue","webpack:///./src/scripts/DPainter.ts","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/views/Home.vue?e42e","webpack:///./src/components/Toolbar.vue?c7d0","webpack:///./src/scripts/Data.ts","webpack:///./src/scripts/Point.ts","webpack:///./src/scripts/MouseTool.ts","webpack:///./src/scripts/DataView.ts","webpack:///./src/scripts/Line.ts","webpack:///./src/scripts/Bezier.ts","webpack:///./src/scripts/ObjectTool.ts","webpack:///./src/scripts/BSpline.ts","webpack:///./src/scripts/PointTool.ts","webpack:///./src/components/Toolbar.vue","webpack:///./src/components/Toolbar.vue?7afd","webpack:///./src/components/Toolbar.vue?2966","webpack:///./src/components/Filebar.vue?802c","webpack:///./src/components/Filebar.vue","webpack:///./src/components/Filebar.vue?3602","webpack:///./src/components/Filebar.vue?4b8c","webpack:///./src/components/ColorTool.vue?e370","webpack:///./src/components/ColorTool.vue","webpack:///./src/components/ColorTool.vue?8c89","webpack:///./src/components/ColorTool.vue?ba91","webpack:///./src/components/ViewTool.vue?9879","webpack:///./src/components/ViewTool.vue","webpack:///./src/components/ViewTool.vue?8106","webpack:///./src/components/ViewTool.vue?2f30","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?2d60","webpack:///./src/views/Home.vue?c853","webpack:///./src/router.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","jsonpScriptSrc","p","about","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","error","Error","request","undefined","setTimeout","head","appendChild","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Home_vue_vue_type_style_index_0_id_29d63822_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Home_vue_vue_type_style_index_0_id_29d63822_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ColorTool_vue_vue_type_style_index_0_id_1a8b745c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ColorTool_vue_vue_type_style_index_0_id_1a8b745c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ViewTool_vue_vue_type_style_index_0_id_471de300_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ViewTool_vue_vue_type_style_index_0_id_471de300_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_f95c6070_render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","vue_runtime_esm","use","balm_ui_default","a","balm_ui_plus_default","ToolType","Appvue_type_script_lang_ts_","extend","src_Appvue_type_script_lang_ts_","component","componentNormalizer","App","Homevue_type_template_id_29d63822_scoped_true_render","staticClass","on","change","setTool","ref","width","height","Homevue_type_template_id_29d63822_scoped_true_staticRenderFns","Toolbarvue_type_template_id_05dd26e0_render","icon","$event","onToolClick","_v","Toolbarvue_type_template_id_05dd26e0_staticRenderFns","Data_Layer","Layer","classCallCheck","alpha","Data_Storable","Storable","layer","constructor","createClass","obj","Data_DataStore","DataStore","layers","recycledIds","largestId","layerIndex","_this","delted","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","keys_default","forEach","k","kk","Number","_iterator","get_iterator_default","next","done","return","map","values_default","flatMap","reduce","b","concat","toConsumableArray","pop","Point_Point","Point","x","y","size","color","MouseTool_MouseTool","MouseTool","log","pos","interact","DataView_DataView","DataView","gl","Line_LineStore","_Storable","LineStore","inherits","Line_LineView","_DataView","LineView","_this2","currentViews","is","material","three_module","vertexColors","geometry","vertices","colors","line","userData","currentScene","add","remove","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","Line_LineAddTool","_MouseTool","LineAddTool","possibleConstructorReturn","getPrototypeOf","arguments","ids","foregroundColor","storeData","shiftKey","changeData","Bezier_BezierStore","BezierStore","Bezier_BezierView","BezierView","genPoints","g","interp","pts","Math","floor","positions","Float32Array","begin","intp","processPart","addAttribute","setDrawRange","pointsX","pointsY","dst","tm","nx","Array","ny","deCast","p0","p1","p2","p3","xx","yy","c0","c3","equals","tempP","lerp","Bezier_BezierAddTool","BezierAddTool","_this3","isDown","assign_default","index","delta","minus","move","ObjectTool_ObjDelTool","ObjDelTool","delData","ObjectTool_ObjMoveTool","_MouseTool2","ObjMoveTool","BSpline_BSplineStore","BSplineStore","BSpline_BSplineView","BSplineView","knots","b0","deg","b1","dd","b2","b3","BSpline_BSplineAddTool","BSplineAddTool","PointTool_PointView","PointView","point","PointTool_PointMoveTool","PointMoveTool","pindex","DPainter_PainterApp","PainterApp","shouldUpdate","previousTime","deltaTime","toolType","None","tool","views","scale","currentLayer","backgroundColor","onWheel","ev","sign","deltaY","mvec","mpos","onMouse","set","offsetX","canvas","offsetY","rayCaster","setFromCamera","currentCamera","inters","intersectObjects","children","unproject","sub","position","normalize","distance","z","copy","multiplyScalar","indexOf","onMouseDown","onMouseOver","onMouseMove","onMouseUp","animationFrame","time","update","requestAnimationFrame","background","addLayer","onEnable","lineview","bezierView","bsplineView","pointView","renderer","dispose","antialias","lookAt","registerListeners","initDataView","unregisterListeners","getAll","onDataAdd","onDisable","BezierAdd","LineAdd","BSplineAdd","MovePoint","MoveObj","DelObj","removeEventListener","addEventListener","render","store","onDataChange","onDataRemove","file","ds","clearScene","stringify_default","blob","Blob","objectURL","URL","createObjectURL","link","style","display","body","href","download","click","Toolbarvue_type_script_lang_ts_Toolbar","_Vue","Toolbar","$emit","vue_property_decorator","tslib_es6","Toolbarvue_type_script_lang_ts_","components_Toolbarvue_type_script_lang_ts_","Toolbar_component","components_Toolbar","Filebarvue_type_template_id_20fef445_render","save","staticStyle","accept","input","realopen","open","clear","Filebarvue_type_template_id_20fef445_staticRenderFns","Filebarvue_type_script_lang_ts_Filebar","Filebar","$refs","uploadinput","files","reader","FileReader","JSON","parse","readAsText","Filebarvue_type_script_lang_ts_","components_Filebarvue_type_script_lang_ts_","Filebar_component","components_Filebar","ColorToolvue_type_template_id_1a8b745c_scoped_true_render","foreColor","foreground","backColor","xmlns","viewBox","fill","cx","cy","confirm","onConfirm","model","callback","$$v","expression","_s","pickfore","tempColor","ColorToolvue_type_template_id_1a8b745c_scoped_true_staticRenderFns","ColorToolvue_type_script_lang_ts_ColorTool","ColorTool","hex","components","chrome-picker","vue_color_min","ColorToolvue_type_script_lang_ts_","components_ColorToolvue_type_script_lang_ts_","ColorTool_component","components_ColorTool","ViewToolvue_type_template_id_471de300_scoped_true_render","onScaleChange","ViewToolvue_type_template_id_471de300_scoped_true_staticRenderFns","ViewToolvue_type_script_lang_ts_ViewTool","ViewTool","ViewToolvue_type_script_lang_ts_","components_ViewToolvue_type_script_lang_ts_","ViewTool_component","components_ViewTool","Homevue_type_script_lang_ts_Home","Home","glCanvas","Homevue_type_script_lang_ts_","views_Homevue_type_script_lang_ts_","Home_component","views_Home","vue_router_esm","router","base","routes","path","then","config","productionTip","h","$mount"],"mappings":"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","file":"js/app.139ad0fe.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"69260e02\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=29d63822&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=29d63822&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorTool.vue?vue&type=style&index=0&id=1a8b745c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorTool.vue?vue&type=style&index=0&id=1a8b745c&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewTool.vue?vue&type=style&index=0&id=471de300&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewTool.vue?vue&type=style&index=0&id=471de300&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport Vue from 'vue'\nimport BalmUI from 'balm-ui'\nimport BalmUIPlus from 'balm-ui/dist/balm-ui-plus';\n\nVue.use(BalmUI)\nVue.use(BalmUIPlus)\n\nexport default Vue.extend({\n  \n})\n","\r\nimport THREE, { Scene,PerspectiveCamera,WebGLRenderer, Camera,Color,LineBasicMaterial,Geometry,Vector3,Line, Raycaster } from 'three';\r\n\r\nimport {DataStore, Storable, Layer} from './Data'\r\nimport { Point} from './Point';\r\nimport { MouseTool } from './MouseTool';\r\nimport { LineAddTool, LineView } from './Line';\r\nimport {DataView} from './DataView'\r\nimport { ObjMoveTool, ObjDelTool } from './ObjectTool';\r\nimport { PointView, PointMoveTool } from './PointTool';\r\nimport { BezierAddTool, BezierView } from './Bezier';\r\nimport { BSplineAddTool, BSplineView } from './BSpline';\r\ninterface PainterBase{\r\n\r\n    onEnable(canvas: HTMLElement):void\r\n\r\n    update(deltaTime: number):void\r\n}\r\n\r\nexport enum ToolType{\r\n    None,BezierAdd,LineAdd,BSplineAdd,MoveObj,DelObj,MovePoint\r\n}\r\n\r\nexport class PainterApp implements PainterBase{\r\n    canvas!: HTMLCanvasElement;\r\n    renderer!: WebGLRenderer;\r\n    currentScene!: Scene;\r\n    currentCamera!: Camera;\r\n    rayCaster!: Raycaster;\r\n    // gl !: WebGLRenderingContext;\r\n    shouldUpdate : boolean = true;\r\n    previousTime : number = 0;\r\n    deltaTime : number =  0;\r\n    toolType: ToolType = ToolType.None;\r\n    tool : MouseTool = new MouseTool();\r\n    views : DataView[] = [];\r\n    data ?: DataStore;\r\n    scale: number=1;\r\n    currentLayer:number = 0;\r\n    foregroundColor:string = \"#000\";\r\n    backgroundColor:string = \"#FFF\";\r\n\r\n    constructor(){\r\n        this.currentScene = new Scene();\r\n        this.currentScene.background = new Color(\"#FFF\");\r\n        this.data = new DataStore();\r\n        this.data.addLayer(new Layer());\r\n        this.tool.onEnable(this);\r\n        const lineview = new LineView();\r\n        lineview.onEnable(this);\r\n        this.views.push(lineview);\r\n        const bezierView = new BezierView();\r\n        bezierView.onEnable(this);\r\n        this.views.push(bezierView);\r\n        const bsplineView = new BSplineView();\r\n        bsplineView.onEnable(this);\r\n        this.views.push(bsplineView);\r\n        const pointView = new PointView();\r\n        pointView.onEnable(this);\r\n        this.views.push(pointView);\r\n    }\r\n    onEnable(canvas: HTMLCanvasElement): void {\r\n        this.canvas = canvas;\r\n        \r\n        if(this.renderer){\r\n            this.renderer.dispose();\r\n        }\r\n        this.renderer = new WebGLRenderer({canvas:this.canvas,antialias:true});\r\n        this.currentCamera = new PerspectiveCamera( 45, canvas.width/canvas.height, 0.1, 1000 );\r\n        this.currentCamera.position.set( 0, 0, 100 );\r\n        this.currentCamera.lookAt( 0, 0, 0 );\r\n        this.rayCaster = new Raycaster();\r\n        // this.rayCaster.params.Points = {threshold:0.1};\r\n        // this.rayCaster.linePrecision = 3;\r\n        //todo https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas;\r\n\r\n        //init webgl\r\n        // let gl = canvas.getContext(\"webgl\");\r\n        // if(!gl){\r\n        //     gl = canvas.getContext(\"experimental-webgl\");\r\n        // }\r\n        // if(gl)this.gl = gl;\r\n        this.registerListeners();\r\n        this.animationFrame(0.01);\r\n        this.initDataView();\r\n    }\r\n\r\n    onDisable():void{\r\n        this.unregisterListeners();\r\n    }\r\n\r\n    initDataView(){\r\n        if(this.data===undefined)return;\r\n        this.data.getAll().forEach(value=>this.views.forEach(d=>d.onDataAdd(value)));\r\n    }\r\n\r\n    setTool(tool:ToolType){\r\n        this.toolType = tool;\r\n        this.tool.onDisable();\r\n        switch(tool){\r\n            case ToolType.BezierAdd:\r\n                this.tool = new BezierAddTool();\r\n                break;\r\n            case ToolType.LineAdd:\r\n                this.tool = new LineAddTool();\r\n                break;\r\n            case ToolType.BSplineAdd:\r\n                this.tool = new BSplineAddTool();\r\n                break;   \r\n            case ToolType.MovePoint:\r\n                this.tool = new PointMoveTool();\r\n                break;   \r\n            case ToolType.MoveObj:\r\n                this.tool = new ObjMoveTool();\r\n                break;   \r\n            case ToolType.DelObj:\r\n                this.tool = new ObjDelTool();\r\n                break;\r\n            case ToolType.None:\r\n            default:\r\n                this.tool = new MouseTool();\r\n                break;\r\n        }\r\n        this.tool.onEnable(this);\r\n    }\r\n\r\n    private unregisterListeners():void{\r\n        this.canvas.removeEventListener('mousedown',this.onMouse);\r\n        this.canvas.removeEventListener('mouseover', this.onMouse);\r\n        this.canvas.removeEventListener('mousemove',this.onMouse);\r\n        this.canvas.removeEventListener('mouseup', this.onMouse);\r\n        this.canvas.removeEventListener('wheel', this.onWheel);\r\n    }\r\n\r\n    private registerListeners():void{\r\n        this.canvas.addEventListener('mousedown',this.onMouse);\r\n        this.canvas.addEventListener('mouseover', this.onMouse);\r\n        this.canvas.addEventListener('mousemove',this.onMouse);\r\n        this.canvas.addEventListener('mouseup', this.onMouse);\r\n        this.canvas.addEventListener('wheel', this.onWheel);\r\n    }\r\n\r\n    private onWheel = (ev:MouseWheelEvent)=>{\r\n        const delta = Math.sign(ev.deltaY);\r\n        this.scale +=delta/50;\r\n    }\r\n    mvec = new Vector3(); // create once and reuse\r\n    mpos = new Vector3(); // create once and reuse \r\n    private onMouse = (ev:MouseEvent)=>{\r\n        let point = new Point();\r\n        this.mvec.set((ev.offsetX/this.canvas.width)*2-1,-( ev.offsetY/this.canvas.height )*2+1,0.5);\r\n        this.rayCaster.setFromCamera(this.mvec,this.currentCamera);\r\n        let inters = this.rayCaster.intersectObjects(this.currentScene.children,true);\r\n        \r\n        this.mvec.unproject( this.currentCamera );\r\n        this.mvec.sub(this.currentCamera.position).normalize();\r\n        let distance = -this.currentCamera.position.z/this.mvec.z;\r\n        this.mpos.copy(this.currentCamera.position).add(this.mvec.multiplyScalar(distance));\r\n        point.x = this.mpos.x;\r\n        point.y = this.mpos.y;\r\n        \r\n        let ids:Storable[]=[];\r\n        let pindex:number[]=[];\r\n\r\n        for(let i of inters){\r\n            //i.distanceToRay\r\n            //todo\r\n            if(i.object.userData[\"obj\"]){\r\n                const obj=i.object.userData[\"obj\"];\r\n                let d = ids.indexOf(obj);\r\n                if(d==-1){\r\n                    ids.push(obj);\r\n                    if(i.object.userData[\"point\"]&&i.index!==undefined){\r\n                        pindex.push(i.index);\r\n                    }else{\r\n                        pindex.push(-1);\r\n                    }\r\n                }else if(pindex[d]==-1){\r\n                    pindex[d]=i.index!==undefined?i.index:-1;\r\n                }\r\n            }\r\n        }\r\n        let interact = {data:ids,pindex:pindex};\r\n        switch(ev.type){\r\n            case 'mousedown':\r\n                this.tool.onMouseDown(point,interact,ev);\r\n                break;\r\n            case 'mouseover':\r\n                this.tool.onMouseOver(point,interact,ev);\r\n                break;\r\n            case 'mousemove':\r\n                this.tool.onMouseMove(point,interact,ev);\r\n                break;\r\n            case 'mouseup':\r\n                this.tool.onMouseUp(point,interact,ev);\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    animationFrame = (time:number):void=>{\r\n        this.deltaTime = time-this.previousTime;\r\n        this.update(this.deltaTime);\r\n        this.previousTime = time;\r\n        if(this.shouldUpdate)\r\n            window.requestAnimationFrame(this.animationFrame);\r\n    }\r\n\r\n    update(deltaTime:number): void {\r\n        //update renderer\r\n        if(this.scale==0)this.currentCamera.position.set(0,0,0);\r\n        else this.currentCamera.position.set( 0, 0, 100/this.scale );\r\n        this.renderer.render(this.currentScene,this.currentCamera);\r\n    }\r\n    \r\n    storeData<T extends Storable>(value:T):void{\r\n        if(this.data===undefined)return;\r\n        this.data.store(value,this.currentLayer);\r\n        this.views.forEach(d=>d.onDataAdd(value));\r\n    }\r\n\r\n    changeData<T extends Storable>(value:T):void{\r\n        if(this.data===undefined)return;\r\n        this.data.store(value,this.currentLayer);\r\n        this.views.forEach(d=>d.onDataChange(value));\r\n    }\r\n\r\n    delData<T extends Storable>(value:T):void{\r\n        if(this.data===undefined)return;\r\n        this.data.remove(value,this.currentLayer);\r\n        this.views.forEach(d=>d.onDataRemove(value));\r\n    }\r\n\r\n    private clearScene():void{\r\n        while(this.currentScene.children.length > 0){ \r\n            this.currentScene.remove(this.currentScene.children[0]); \r\n        }\r\n    }\r\n    open(file:any):void{\r\n        const ds = Object.assign(new DataStore(),file);\r\n        this.clearScene();\r\n        this.data = ds;\r\n        this.initDataView();\r\n    }\r\n    save():void{\r\n        if(this.data===undefined)return;\r\n        const d = JSON.stringify(this.data);\r\n        let blob = new Blob([d], {\r\n            type: 'text/plain'\r\n        });\r\n        let objectURL = URL.createObjectURL( blob );\r\n        const link = document.createElement( 'a' );\r\n        link.style.display = 'none';\r\n        document.body.appendChild( link );\r\n        link.href = objectURL;\r\n        link.href = URL.createObjectURL( blob );\r\n        link.download = 'data.dpst';\r\n        link.click();\r\n    }\r\n}\r\n\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=f95c6070&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('div',[_c('div',[_c('Filebar',{attrs:{\"app\":_vm.app}})],1),_c('div',[_c('Toolbar',{on:{\"change\":_vm.setTool}})],1),_c('div',[_c('ColorTool',{attrs:{\"app\":_vm.app}})],1)]),_c('canvas',{ref:\"glCanvas\",attrs:{\"width\":\"640\",\"height\":\"480\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('ui-icon-button',{attrs:{\"icon\":\"block\"},on:{\"change\":function($event){return _vm.onToolClick('None')}}}),_c('ui-icon-button',{attrs:{\"icon\":\"open_with\"},on:{\"change\":function($event){return _vm.onToolClick('MoveObj')}}}),_c('ui-icon-button',{attrs:{\"icon\":\"show_chart\"},on:{\"change\":function($event){return _vm.onToolClick('LineAdd')}}}),_c('ui-icon-button',{attrs:{\"icon\":\"gesture\"},on:{\"change\":function($event){return _vm.onToolClick('BezierAdd')}}}),_c('ui-icon-button',{attrs:{\"icon\":\"delete\"},on:{\"change\":function($event){return _vm.onToolClick('DelObj')}}}),_c('ui-icon-button',{attrs:{\"icon\":\"build\"},on:{\"change\":function($event){return _vm.onToolClick('MovePoint')}}}),_c('ui-icon-button',{on:{\"change\":function($event){return _vm.onToolClick('BSplineAdd')}}},[_vm._v(\"B\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { LineStore } from './Line';\r\n\r\nexport class Layer{\r\n    name:string=\"\";\r\n    alpha:number=1;\r\n    data:any={};\r\n}\r\n\r\n\r\n\r\nexport class VectorLayer extends Layer{\r\n\r\n}\r\n\r\n\r\nexport class Storable{\r\n    id:number=0;\r\n    layer:number=0;\r\n\r\n    type:string=this.constructor.name;\r\n    static is<T extends Storable>(obj:any,c: new () => T): obj is T{\r\n        if(obj.type===undefined)return false;\r\n        return c.name==obj.type;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport class DataStore{\r\n    \r\n    layers: Layer[] = [];\r\n\r\n    //todo find a better solution\r\n    recycledIds:number[] = [];\r\n    largestId = 1;\r\n\r\n    addLayer(layer:Layer ):void{\r\n        this.layers.push(layer);\r\n    }\r\n\r\n\r\n    removeLayer(layerIndex:number):void{\r\n        let delted = this.layers.splice(layerIndex,1);\r\n        for (const d of delted) {\r\n            Object.keys(d.data).forEach(\r\n                k=>Object.keys(d.data[k]).forEach(\r\n                    kk=>this.recycledIds.push(Number(kk))\r\n                )\r\n            );\r\n        }\r\n    }\r\n\r\n    getAll():Storable[]{\r\n        return this.layers.map(l=>(Object.values(l.data).flatMap(d=>Object.values(d)))).reduce((a,b)=>[...a,...b],[]);\r\n    }\r\n\r\n    getAllOfType<T extends Storable>(c: new () => T):T[]{\r\n        return this.layers.map(l=>{\r\n            if(l.data[c.name]===undefined)return [];\r\n            return Object.values(l.data[c.name]) as T[] \r\n        }).reduce((a,b)=>[...a,...b],[]);\r\n    }\r\n\r\n    get<T extends Storable>(c: new () => T,id:number):T|undefined{\r\n        return this.layers.map(l=>{\r\n            if(l.data[c.name]===undefined)return undefined;\r\n            return l.data[c.name][id]; \r\n        }).reduce((a,b)=>a===undefined?b:a);\r\n    }\r\n\r\n    remove<T extends Storable>(value:T,layerIndex:number):void{\r\n        if(value.id==0){\r\n            return;\r\n        }\r\n        let d = this.layers[layerIndex].data;\r\n        const t = value.constructor.name;\r\n        if(d[t] === undefined){\r\n            d[t] = {};\r\n            return;\r\n        }\r\n        if(d[t][value.id]){\r\n            delete d[t][value.id];\r\n            this.recycledIds.push(value.id);\r\n        }\r\n    }\r\n    store<T extends Storable>(value:T,layerIndex:number):void{\r\n        if(this.layers.length<=layerIndex){\r\n            throw new Error(\"Layer index out of range\");            \r\n        }\r\n        if(value.id==0){\r\n            if(this.recycledIds.length>0){\r\n                value.id = this.recycledIds.pop() as number;          \r\n            }else{\r\n                value.id = this.largestId++;\r\n            }\r\n        }\r\n        let d = this.layers[layerIndex].data;\r\n        const t = value.constructor.name;\r\n        if(d[t] === undefined){\r\n            d[t] = {};\r\n        }\r\n        d[t][value.id]=value;\r\n    }\r\n\r\n\r\n\r\n}\r\n","\r\nexport interface Point2D{\r\n    x:number;\r\n    y:number;\r\n    color:string;\r\n    size :number;\r\n}\r\n\r\nexport interface Point3D extends Point2D{\r\n    z:number;\r\n}\r\n\r\n\r\n// export class ColorHelper{\r\n//     static create(r:number=0,g:number=0,b:number=0,a:number=1){\r\n//         return {r:r,g:g,b:b,a:a};\r\n//     }\r\n//     static white:Color = ColorHelper.create(1,1,1);\r\n//     static black:Color = ColorHelper.create(0,0,0);\r\n\r\n//     static toCSVString(c:Color){\r\n//         return `rgba(${c.r},${c.g},${c.b},${(c.a)/255.0})`\r\n//     }\r\n\r\n// }\r\n\r\nexport class Point implements Point2D{\r\n    x: number=0;\r\n    y: number=0;\r\n\r\n    size :number = 1;\r\n    color:string = \"#000\";\r\n\r\n\r\n    static add(a:Point2D,b: Point2D): Point {\r\n        let p =  new Point();\r\n        p.x = a.x+b.x;\r\n        p.y = a.y+b.y;\r\n        p.color = a.color;\r\n        p.size = a.size;\r\n        return p;\r\n    }\r\n    static minus(a:Point2D,b: Point2D): Point {\r\n        let p =  new Point();\r\n        p.x = a.x-b.x;\r\n        p.y = a.y-b.y;\r\n        p.color = a.color;\r\n        p.size = a.size;\r\n        return p;\r\n    }\r\n    static multiply(a:Point2D,b: number): Point {\r\n        let p =  new Point();\r\n        p.x = a.x*b;\r\n        p.y = a.y*b;\r\n        p.color = a.color;\r\n        p.size = a.size;\r\n        return p;\r\n    }\r\n    static equals(a:Point2D,b: Point2D):boolean{\r\n        return a.x==b.x&&a.y==b.y;\r\n    }\r\n}","import {PainterApp} from './DPainter'\r\n\r\nimport {Point} from './Point';\r\nimport { Storable } from './Data';\r\n\r\nexport interface Interact{\r\n    data:Storable[]\r\n    pindex:number[]\r\n}\r\n\r\nexport class MouseTool{\r\n    app!:PainterApp;\r\n    onEnable(app:PainterApp):void{\r\n        this.app = app;\r\n    }\r\n    onDisable():void{\r\n        console.log(\"Disabled \"+this.constructor.name);\r\n    }\r\n    //not clicked\r\n    onMouseOver(pos:Point,interact:Interact,event:MouseEvent):void{\r\n        //console.log(pos);\r\n    }\r\n    onMouseDown(pos:Point,interact:Interact,event:MouseEvent):void{\r\n        //console.log(pos);\r\n    }\r\n    onMouseMove(pos:Point,interact:Interact,event:MouseEvent):void{\r\n        //console.log(pos);\r\n    }\r\n    onMouseUp(pos:Point,interact:Interact,event:MouseEvent):void{\r\n        //console.log(pos);\r\n    }\r\n}","import {DataStore, Storable} from './Data'\r\nimport { PainterApp } from './DPainter';\r\n\r\nexport class DataView{\r\n    app!:PainterApp;\r\n    \r\n    onEnable(app:PainterApp):void{\r\n        this.app = app;\r\n    }\r\n\r\n    onDisable():void{\r\n        console.log(\"Disabled\");\r\n    }\r\n\r\n    \r\n    //draw called per frame\r\n    draw(gl: WebGLRenderingContext):void{\r\n\r\n    }\r\n\r\n    onDataAdd(data:Storable):void{\r\n        \r\n    }\r\n\r\n    onDataChange(data:Storable):void{\r\n\r\n    }\r\n\r\n    onDataRemove(data:Storable):void{\r\n\r\n    }\r\n}","import {DataView} from './DataView'\r\nimport {Storable} from './Data'\r\nimport {Point2D, Point} from './Point'\r\nimport {MouseTool, Interact} from './MouseTool'\r\nimport { LineBasicMaterial,Geometry,Vector3,Line, Color,VertexColors } from 'three';\r\n\r\nexport class LineStore extends Storable{\r\n    \r\n    data: Point2D[] = [];\r\n}\r\n\r\nexport class LineView extends DataView{\r\n    currentViews:any = {};\r\n    onDataAdd(data:Storable){\r\n        if(Storable.is(data,LineStore)){\r\n            if(data.data.length<=0)return;\r\n            let material = new LineBasicMaterial( { color: 0xffffff,vertexColors:VertexColors } );\r\n            let geometry = new Geometry();\r\n            for(let p of data.data){\r\n                geometry.vertices.push(new Vector3(p.x,p.y,0));\r\n                geometry.colors.push(new Color(p.color));\r\n            }\r\n            let line = new Line( geometry, material );\r\n            line.userData[\"obj\"]=data;\r\n            this.app.currentScene.add( line );\r\n            this.currentViews[data.id]=line;\r\n        }\r\n    }\r\n\r\n    onDataChange(data:Storable){\r\n        if(Storable.is(data,LineStore)){\r\n            if(this.currentViews[data.id]){\r\n                const l = this.currentViews[data.id] as Line;\r\n                this.app.currentScene.remove(l);\r\n                if(data.data.length<=0)return;\r\n                let material = new LineBasicMaterial( { color: 0xffffff,vertexColors:VertexColors } );\r\n                let geometry = new Geometry();\r\n                for(let p of data.data){\r\n                    geometry.vertices.push(new Vector3(p.x,p.y,0));\r\n                    geometry.colors.push(new Color(p.color));\r\n                }\r\n                let line = new Line( geometry, material );\r\n                line.userData[\"obj\"]=data;\r\n                this.app.currentScene.add( line );\r\n                this.currentViews[data.id]=line;\r\n            }\r\n        }\r\n    }\r\n\r\n    onDataRemove(data:Storable){\r\n        if(Storable.is(data,LineStore)){\r\n            if(this.currentViews[data.id]){\r\n                const l = this.currentViews[data.id] as Line;\r\n                this.app.currentScene.remove(l);\r\n                delete this.currentViews[data.id];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport class LineAddTool extends MouseTool{\r\n    data?:LineStore;\r\n\r\n    onMouseDown(pos:Point,ids:Interact,event:MouseEvent){\r\n        pos.color = this.app.foregroundColor;\r\n        if(this.data===undefined){\r\n            this.data = new LineStore();\r\n            this.data.data.push(pos);\r\n            this.app.storeData(this.data);\r\n        }\r\n        else if(event.shiftKey){\r\n            this.data.data.push(pos);\r\n            this.app.changeData(this.data);\r\n        }else{\r\n            if(this.data.data.length>1){\r\n                delete this.data;\r\n                this.data = new LineStore();\r\n                this.data.data.push(pos);\r\n                this.app.storeData(this.data);\r\n                return;\r\n            }\r\n            this.data.data.push(pos);\r\n            this.app.changeData(this.data);\r\n            delete this.data;\r\n        }\r\n    }\r\n\r\n    \r\n}","import {DataView} from './DataView'\r\nimport {Storable} from './Data'\r\nimport {Point2D, Point} from './Point'\r\nimport {MouseTool, Interact} from './MouseTool'\r\nimport { LineBasicMaterial,Geometry,Vector3,Line, Color, BufferGeometry, Float32BufferAttribute, VertexColors } from 'three';\r\n\r\nexport class BezierStore extends Storable{\r\n    data: Point2D[] = [];\r\n}\r\n\r\n\r\nexport class BezierView extends DataView{\r\n    currentViews:any = {};\r\n\r\n    onDataAdd(data:Storable){\r\n        if(Storable.is(data,BezierStore)){\r\n            let material = new LineBasicMaterial( { color: 0xffffff,vertexColors:VertexColors } );\r\n            let geometry = new BufferGeometry();\r\n            this.genPoints(data,geometry);\r\n            let line = new Line( geometry, material );\r\n            line.userData[\"obj\"]=data;\r\n            this.app.currentScene.add( line );\r\n            this.currentViews[data.id]=line;\r\n        }\r\n    }\r\n\r\n    onDataChange(data:Storable){\r\n        if(Storable.is(data,BezierStore)){\r\n            if(this.currentViews[data.id]){\r\n                const l = this.currentViews[data.id] as Line;\r\n                this.app.currentScene.remove(l);\r\n                let material = new LineBasicMaterial( { color: 0xffffff,vertexColors:VertexColors } );\r\n                let geometry = new BufferGeometry();\r\n                this.genPoints(data,geometry);\r\n                let line = new Line( geometry, material );\r\n                line.userData[\"obj\"]=data;\r\n                this.app.currentScene.add( line );\r\n                this.currentViews[data.id]=line;\r\n            }\r\n        }\r\n    }\r\n\r\n    onDataRemove(data:Storable){\r\n        if(Storable.is(data,BezierStore)){\r\n            if(this.currentViews[data.id]){\r\n                const l = this.currentViews[data.id] as Line;\r\n                this.app.currentScene.remove(l);\r\n                delete this.currentViews[data.id];\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    genPoints(data:BezierStore,g:BufferGeometry,interp:number=100){\r\n        if(data.data.length<=0)return;\r\n        if(data.data.length==1){\r\n            return;\r\n        }else if((data.data.length-1)%3!=0){\r\n            //\r\n            //return;\r\n        }\r\n        const pts = Math.floor((data.data.length-1)/3)*interp;\r\n        let positions = new Float32Array( pts * 3 );\r\n        let colors = new Float32Array( pts * 3 );\r\n        let begin=0;\r\n        let intp = 1/interp;\r\n        for(let i=1;i+2<data.data.length;i+=3){\r\n            begin=this.processPart(data.data[i-1],data.data[i],data.data[i+1],data.data[i+2],positions,colors,begin,intp);\r\n        }\r\n        g.addAttribute(\"position\",new Float32BufferAttribute(positions,3));\r\n        g.addAttribute(\"color\",new Float32BufferAttribute(colors,3));\r\n        g.setDrawRange(0,begin/3);\r\n    }\r\n\r\n    deCast(pointsX:number[],pointsY:number[],dst:Point2D,t:number){\r\n        const tm = 1-t;\r\n        if(pointsX.length==1){\r\n            dst.x = pointsX[0];\r\n            dst.y = pointsY[0];\r\n        }else{\r\n            let nx:number[] =new Array(pointsX.length-1);\r\n            let ny:number[] =new Array(pointsY.length-1);\r\n            for(let i=0;i<nx.length;++i){\r\n                let x = tm*pointsX[i]+t*pointsX[i+1];\r\n                let y = tm*pointsY[i]+t*pointsY[i+1];\r\n                nx[i]=(x);\r\n                ny[i]=(y);\r\n            }\r\n            this.deCast(nx,ny,dst,t);\r\n        }\r\n    }\r\n    //output out index\r\n    processPart(p0:Point2D,p1:Point2D,p2:Point2D,p3:Point2D,pos:Float32Array,color:Float32Array,begin:number,intp:number):number{\r\n        const c0 = new Color(p0.color);\r\n        const c3 = new Color(p3.color);\r\n        let xx:number[];\r\n        let yy:number[];\r\n        if(Point.equals(p0,p1)&&Point.equals(p2,p3)){\r\n            //pure line\r\n            color[begin] = c0.r;\r\n            pos[begin++] = p0.x;\r\n            color[begin] = c0.g;\r\n            pos[begin++] = p0.y;\r\n            color[begin] = c0.b;\r\n            pos[begin++] = 0;\r\n\r\n            color[begin] = c3.r;\r\n            pos[begin++] = p3.x;\r\n            color[begin] = c3.g;\r\n            pos[begin++] = p3.y;\r\n            color[begin] = c3.b;\r\n            pos[begin++] = 0;\r\n            return begin;\r\n        }else if(Point.equals(p0,p1)){\r\n            xx = [p0.x,p2.x,p3.x];\r\n            yy = [p0.y,p2.y,p3.y];\r\n        }else if(Point.equals(p2,p3)){\r\n            xx = [p0.x,p1.x,p3.x];\r\n            yy = [p0.y,p1.y,p3.y];\r\n        }else{\r\n            xx = [p0.x,p1.x,p2.x,p3.x];\r\n            yy = [p0.y,p1.y,p2.y,p3.y];\r\n        }\r\n        let tempP = new Point();\r\n        //point to array\r\n        for(let t=0;t<=1;t+=intp){\r\n            this.deCast(xx,yy,tempP,t);\r\n            const c = c0.lerp(c3,t);\r\n            color[begin] = c.r;\r\n            pos[begin++] = tempP.x;\r\n            color[begin] = c.g;\r\n            pos[begin++] = tempP.y;\r\n            color[begin] = c.b;\r\n            pos[begin++] = 0;\r\n        }\r\n        return begin;\r\n    }\r\n}\r\n\r\n\r\nexport class BezierAddTool extends MouseTool{\r\n    data?:BezierStore;\r\n    begin!:Point;\r\n    index!:number;\r\n    isDown:boolean = false;\r\n    onMouseDown(pos:Point,ids:Interact,event:MouseEvent){\r\n        this.isDown = true;\r\n        pos.color = this.app.foregroundColor;\r\n        if(this.data===undefined){\r\n            this.data = new BezierStore();\r\n            this.data.data.push(Object.assign(new Point(),pos));\r\n            this.data.data.push(Object.assign(new Point(),pos));\r\n            this.begin=pos;\r\n            this.index=0;\r\n            this.app.storeData(this.data);\r\n        }\r\n        else if(event.shiftKey){\r\n            this.index=this.data.data.length+1;\r\n            this.begin=pos;\r\n            this.data.data.push(Object.assign(new Point(),pos));\r\n            this.data.data.push(Object.assign(new Point(),pos));\r\n            this.data.data.push(Object.assign(new Point(),pos));\r\n            this.app.changeData(this.data);\r\n        }else{\r\n            if(this.data.data.length>3){\r\n                delete this.data;\r\n                this.data = new BezierStore();\r\n                this.data.data.push(Object.assign(new Point(),pos));\r\n                this.data.data.push(Object.assign(new Point(),pos));\r\n                this.begin=pos;\r\n                this.index=0;\r\n                this.app.storeData(this.data);\r\n                return;\r\n            }\r\n            this.data.data.push(Object.assign(new Point(),pos));\r\n            this.data.data.push(Object.assign(new Point(),pos));\r\n            this.data.data.push(Object.assign(new Point(),pos));\r\n            this.app.changeData(this.data);\r\n            delete this.data;\r\n        }\r\n    }\r\n    onMouseMove(pos:Point,ids:Interact,event:MouseEvent):void{\r\n        if(!this.isDown||!this.data)return;\r\n        let delta = Point.minus(pos,(this.begin));\r\n        this.move(this.data,delta);\r\n        this.begin=pos;\r\n    }\r\n    onMouseUp(pos:Point,ids:Interact,event:MouseEvent){\r\n        this.isDown = false;\r\n    }\r\n    move(data:BezierStore,delta:Point){\r\n        if(data.data.length<this.index+1)return;\r\n        data.data[this.index+1].x+=delta.x;\r\n        data.data[this.index+1].y+=delta.y;\r\n        if(this.index-1>=0){\r\n            data.data[this.index-1].x =2*data.data[this.index].x-data.data[this.index+1].x;\r\n            data.data[this.index-1].y =2*data.data[this.index].y-data.data[this.index+1].y;\r\n        }\r\n        this.app.changeData(data);\r\n    }\r\n}","import {MouseTool, Interact} from './MouseTool'\r\nimport { Point } from './Point';\r\nimport { DataStore, Storable } from './Data';\r\nimport { LineStore } from './Line';\r\nimport { BezierStore } from './Bezier';\r\n\r\n\r\nexport class ObjDelTool extends MouseTool{\r\n    obj?:Storable;\r\n    begin!:Point;\r\n    onMouseDown(pos:Point,ids:Interact,event:MouseEvent):void{\r\n        if(ids.data.length<=0)return;\r\n        this.obj=ids.data[0];\r\n    }\r\n\r\n    onMouseUp():void{\r\n        if(!this.obj)return;\r\n        this.app.delData(this.obj);\r\n        delete this.obj;\r\n\r\n    }\r\n}\r\n\r\n\r\nexport class ObjMoveTool extends MouseTool{\r\n    obj?:Storable;\r\n    begin!:Point;\r\n    onMouseDown(pos:Point,ids:Interact,event:MouseEvent):void{\r\n        if(ids.data.length<=0)return;\r\n        this.obj=ids.data[0];\r\n        this.begin=pos;\r\n    }\r\n\r\n    onMouseMove(pos:Point,ids:Interact,event:MouseEvent):void{\r\n        if(!this.obj)return;\r\n        let delta = Point.minus(pos,(this.begin));\r\n        this.move(this.obj,delta);\r\n        this.begin=pos;\r\n    }\r\n\r\n    onMouseUp():void{\r\n        if(!this.obj)return;\r\n        delete this.obj;\r\n\r\n    }\r\n    move(obj:Storable,delta:Point){\r\n        if(Storable.is(obj,LineStore)||Storable.is(obj,BezierStore)){\r\n            obj.data.forEach(d=>{\r\n                d.x+=delta.x;\r\n                d.y+=delta.y;\r\n            });\r\n            this.app.changeData(obj);\r\n        }\r\n    }\r\n}","import {DataView} from './DataView'\r\nimport {Storable} from './Data'\r\nimport {Point2D, Point} from './Point'\r\nimport {MouseTool, Interact} from './MouseTool'\r\nimport { LineBasicMaterial,Geometry,Vector3,Line, Color, BufferGeometry, Float32BufferAttribute, VertexColors } from 'three';\r\n\r\nexport class BSplineStore extends Storable{\r\n    data: Point2D[] = [];\r\n}\r\n\r\n\r\nexport class BSplineView extends DataView{\r\n    currentViews:any = {};\r\n\r\n    onDataAdd(data:Storable){\r\n        if(Storable.is(data,BSplineStore)){\r\n            let material = new LineBasicMaterial( { color: 0xffffff,vertexColors:VertexColors } );\r\n            let geometry = new BufferGeometry();\r\n            this.genPoints(data,geometry);\r\n            let line = new Line( geometry, material );\r\n            line.userData[\"obj\"]=data;\r\n            this.app.currentScene.add( line );\r\n            this.currentViews[data.id]=line;\r\n        }\r\n    }\r\n\r\n    onDataChange(data:Storable){\r\n        if(Storable.is(data,BSplineStore)){\r\n            if(this.currentViews[data.id]){\r\n                const l = this.currentViews[data.id] as Line;\r\n                this.app.currentScene.remove(l);\r\n                let material = new LineBasicMaterial( { color: 0xffffff,vertexColors:VertexColors } );\r\n                let geometry = new BufferGeometry();\r\n                this.genPoints(data,geometry);\r\n                let line = new Line( geometry, material );\r\n                line.userData[\"obj\"]=data;\r\n                this.app.currentScene.add( line );\r\n                this.currentViews[data.id]=line;\r\n            }\r\n        }\r\n    }\r\n\r\n    onDataRemove(data:Storable){\r\n        if(Storable.is(data,BSplineStore)){\r\n            if(this.currentViews[data.id]){\r\n                const l = this.currentViews[data.id] as Line;\r\n                this.app.currentScene.remove(l);\r\n                delete this.currentViews[data.id];\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    genPoints(data:BSplineStore,g:BufferGeometry,interp:number=150){\r\n        if(data.data.length<=0)return;\r\n        if(data.data.length<=3){\r\n            return;\r\n        }\r\n        const c0 = new Color(data.data[0].color);\r\n        const c3 = new Color(data.data[data.data.length-1].color);\r\n\r\n        const knots = new Array<number>(data.data.length+4);\r\n        knots[0]=0;\r\n        knots[1]=0;\r\n        knots[2]=0;\r\n        knots[3]=0;\r\n        const l = knots.length-7;\r\n        for(let i=1;i<l;++i){\r\n            knots[i+3] = (i)/l;\r\n        }\r\n        knots[knots.length-1]=1;\r\n        knots[knots.length-2]=1;\r\n        knots[knots.length-3]=1;\r\n        knots[knots.length-4]=1;\r\n\r\n        let xx:number[]=[];\r\n        let yy:number[]=[];\r\n        data.data.forEach(d=>{\r\n            xx.push(d.x);\r\n            yy.push(d.y)\r\n        });\r\n\r\n        let intp = 1/interp;\r\n        let positions = new Float32Array( (interp+1) * 3 );\r\n        let colors = new Float32Array( (interp+1) * 3 );\r\n        let begin=0;\r\n        for(let t=0;t<=1;t+=intp){\r\n            //first pass\r\n            let b0:number[] = knots.map((d,i)=>((t<d||(i+1<knots.length&&t>=knots[i+1]))?0:1));\r\n            let deg =1;\r\n            let b1 = b0.map((a,i)=>{\r\n                let r=0;\r\n                let dd =knots[i+deg]-knots[i];\r\n                if(dd!=0){\r\n                    r+=(t-knots[i])/(dd)*a\r\n                }\r\n                dd =knots[i+1+deg]-knots[i+1];\r\n                if(dd!=0){\r\n                    r+=(knots[i+1+deg]-t)/(dd)*b0[i+1];\r\n                }\r\n                return r;\r\n            });\r\n            deg =2;\r\n            let b2 = b1.map((a,i)=>{\r\n                let r=0;\r\n                let dd =knots[i+deg]-knots[i];\r\n                if(dd!=0){\r\n                    r+=(t-knots[i])/(dd)*a\r\n                }\r\n                dd =knots[i+1+deg]-knots[i+1];\r\n                if(dd!=0){\r\n                    r+=(knots[i+1+deg]-t)/(dd)*b1[i+1];\r\n                }\r\n                return r;\r\n            });\r\n            deg =3;\r\n            let b3 = b2.map((a,i)=>{\r\n                let r=0;\r\n                let dd =knots[i+deg]-knots[i];\r\n                if(dd!=0){\r\n                    r+=(t-knots[i])/(dd)*a\r\n                }\r\n                dd =knots[i+1+deg]-knots[i+1];\r\n                if(dd!=0){\r\n                    r+=(knots[i+1+deg]-t)/(dd)*b2[i+1];\r\n                }\r\n                return r;\r\n            });\r\n            const x = xx.map((d,i)=>d*b3[i]).reduce((a,b)=>a+b);\r\n            const y = yy.map((d,i)=>d*b3[i]).reduce((a,b)=>a+b);\r\n            const c = c0.lerp(c3,t);\r\n            colors[begin] = c.r;\r\n            positions[begin++] = x;\r\n            colors[begin] = c.g;\r\n            positions[begin++] = y;\r\n            colors[begin] = c.b;\r\n            positions[begin++] = 0;\r\n        }\r\n        g.addAttribute(\"position\",new Float32BufferAttribute(positions,3));\r\n        g.addAttribute(\"color\",new Float32BufferAttribute(colors,3));\r\n        g.setDrawRange(0,begin/3);\r\n    }\r\n}\r\n\r\nexport class BSplineAddTool extends MouseTool{\r\n    data?:BSplineStore;\r\n\r\n    onMouseDown(pos:Point,ids:Interact,event:MouseEvent){\r\n        pos.color = this.app.foregroundColor;\r\n        if(this.data===undefined){\r\n            this.data = new BSplineStore();\r\n            this.data.data.push(pos);\r\n            this.app.storeData(this.data);\r\n        }\r\n        else if(event.shiftKey){\r\n            this.data.data.push(pos);\r\n            this.app.changeData(this.data);\r\n        }else{\r\n            if(this.data.data.length>3){\r\n                delete this.data;\r\n                this.data = new BSplineStore();\r\n                this.data.data.push(pos);\r\n                this.app.storeData(this.data);\r\n                return;\r\n            }\r\n            this.data.data.push(pos);\r\n            this.app.changeData(this.data);\r\n            delete this.data;\r\n        }\r\n    }\r\n\r\n    \r\n}","import {DataView} from './DataView'\r\nimport {Storable} from './Data'\r\nimport {Point2D, Point} from './Point'\r\nimport {MouseTool, Interact} from './MouseTool'\r\nimport { Scene,PerspectiveCamera,WebGLRenderer, Camera,LineBasicMaterial,Geometry,Vector3,Line, Color, BufferGeometry, BufferAttribute, Points, PointsMaterial } from 'three';\r\nimport { LineStore } from './Line';\r\nimport { BezierStore } from './Bezier';\r\nimport { BSplineStore } from './BSpline';\r\n\r\n\r\nexport class PointView extends DataView{\r\n    currentViews:any = {};\r\n    onDataAdd(data:Storable){\r\n        if(Storable.is(data,LineStore)||Storable.is(data,BezierStore)||Storable.is(data,BSplineStore)){\r\n            let material = new PointsMaterial( { color: 0x013FE9 } );\r\n            let geometry = new Geometry();\r\n            for(let p of data.data){\r\n                geometry.vertices.push(new Vector3(p.x,p.y,0));\r\n            }\r\n            let point = new Points( geometry, material );\r\n            point.userData[\"point\"]=true;\r\n            point.userData[\"obj\"]=data;\r\n            this.app.currentScene.add( point );\r\n            this.currentViews[data.id]=point;\r\n        }\r\n    }\r\n\r\n    onDataChange(data:Storable){\r\n        if(Storable.is(data,LineStore)||Storable.is(data,BezierStore)||Storable.is(data,BSplineStore)){\r\n            if(this.currentViews[data.id]){\r\n                const l = this.currentViews[data.id] as Points;\r\n                this.app.currentScene.remove(l);\r\n                let material = new PointsMaterial( { color: 0x013FE9 } );\r\n                let geometry = new Geometry();\r\n                for(let p of data.data){\r\n                    geometry.vertices.push(new Vector3(p.x,p.y,0));\r\n                }\r\n                let point = new Points( geometry, material );\r\n                point.userData[\"point\"]=true;\r\n                point.userData[\"obj\"]=data;\r\n                this.app.currentScene.add( point );\r\n                this.currentViews[data.id]=point;\r\n            }\r\n        }\r\n    }\r\n\r\n    onDataRemove(data:Storable){\r\n        if(Storable.is(data,LineStore)||Storable.is(data,BezierStore)){\r\n            if(this.currentViews[data.id]){\r\n                const l = this.currentViews[data.id] as Points;\r\n                this.app.currentScene.remove(l);\r\n                delete this.currentViews[data.id];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport class PointMoveTool extends MouseTool{\r\n    obj?:Storable;\r\n    index!:number;\r\n    begin!:Point;\r\n    onMouseDown(pos:Point,ids:Interact,event:MouseEvent):void{\r\n        if(ids.data.length<=0)return;\r\n        if(ids.pindex[0]==-1)return;\r\n        this.obj=ids.data[0];\r\n        this.begin=pos;\r\n        this.index = ids.pindex[0];\r\n    }\r\n\r\n    onMouseMove(pos:Point,ids:Interact,event:MouseEvent):void{\r\n        if(!this.obj)return;\r\n        let delta = Point.minus(pos,(this.begin));\r\n        this.move(this.obj,delta);\r\n        this.begin=pos;\r\n    }\r\n\r\n    onMouseUp():void{\r\n        if(!this.obj)return;\r\n        delete this.obj;\r\n\r\n    }\r\n    move(obj:Storable,delta:Point){\r\n        if(Storable.is(obj,LineStore)||Storable.is(obj,BezierStore)||Storable.is(obj,BSplineStore)){\r\n            if(obj.data.length<this.index)return;\r\n            obj.data[this.index].x+=delta.x;\r\n            obj.data[this.index].y+=delta.y;\r\n\r\n            this.app.changeData(obj);\r\n        }\r\n    }\r\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue,Watch } from 'vue-property-decorator';\r\nimport {ToolType} from '@/scripts/DPainter'\r\n@Component\r\nexport default class Toolbar extends Vue {\r\n\r\n    onToolClick(name:string){\r\n        let tool:ToolType;\r\n        switch(name){\r\n            case \"MoveObj\":\r\n                tool = ToolType.MoveObj;\r\n                break;\r\n            case \"LineAdd\":\r\n                tool = ToolType.LineAdd;\r\n                break;\r\n            case \"BezierAdd\":\r\n                tool = ToolType.BezierAdd;\r\n                break;\r\n            case \"BSplineAdd\":\r\n                tool = ToolType.BSplineAdd;\r\n                break;\r\n            case \"DelObj\":\r\n                tool = ToolType.DelObj;\r\n                break;\r\n            case \"MovePoint\":\r\n                tool = ToolType.MovePoint;\r\n                break;\r\n            default:\r\n                tool = ToolType.None;\r\n                break;\r\n        }\r\n        this.$emit(\"change\",tool);\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=05dd26e0&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('ui-icon-button',{attrs:{\"icon\":\"save\"},on:{\"change\":_vm.save}}),_c('input',{ref:\"uploadinput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"*/dpst\"},on:{\"input\":_vm.realopen}}),_c('ui-icon-button',{attrs:{\"icon\":\"insert_drive_file\"},on:{\"change\":_vm.open}}),_c('ui-icon-button',{attrs:{\"icon\":\"clear\"},on:{\"change\":_vm.clear}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue,Watch } from 'vue-property-decorator';\r\nimport {PainterApp,ToolType} from '@/scripts/DPainter'\r\nimport { Event } from 'three';\r\nimport { DataStore,Layer } from '../scripts/Data';\r\n@Component\r\nexport default class Filebar extends Vue {\r\n    @Prop() private app!:PainterApp;\r\n\r\n    save(){\r\n        this.app.save();\r\n    }\r\n\r\n    open(){\r\n        (this.$refs.uploadinput as HTMLInputElement).value=\"\";\r\n        (this.$refs.uploadinput as HTMLInputElement).click();\r\n    }\r\n\r\n    clear(){\r\n        const d= new DataStore();\r\n        d.addLayer(new Layer());\r\n        this.app.open(d);\r\n        this.app.setTool(ToolType.None);\r\n    }\r\n\r\n    realopen(e:Event){\r\n        const input = e.target;\r\n        if ('files' in input && input.files.length > 0) {\r\n            let file = input.files[0];\r\n            const reader = new FileReader();\r\n            reader.onload = (event:any) =>{ \r\n                if(event.target==null||event.target.result==null)return;\r\n                console.log(event.target.result); // desired file content\r\n                const obj = JSON.parse(event.target.result);\r\n                this.app.open(obj);\r\n            }\r\n            // reader.onerror = error => reject(error)\r\n            reader.readAsText(file); // you could also read images and other binaries\r\n        }\r\n        \r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Filebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Filebar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Filebar.vue?vue&type=template&id=20fef445&\"\nimport script from \"./Filebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./Filebar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('ui-icon-button',{style:({ color:_vm.foreColor }),attrs:{\"icon\":\"color_lens\"},on:{\"change\":_vm.foreground}}),_c('ui-icon-button',{style:({ color:_vm.backColor }),on:{\"change\":_vm.background}},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"fill\":\"none\",\"d\":\"M0 0h24v24H0z\"}}),_c('path',{attrs:{\"d\":\"M12 22C6.49 22 2 17.51 2 12S6.49 2 12 2s10 4.04 10 9c0 3.31-2.69 6-6 6h-1.77c-.28 0-.5.22-.5.5 0 .12.05.23.13.33.41.47.64 1.06.64 1.67 0 1.38-1.12 2.5-2.5 2.5zm0-18c-4.41 0-8 3.59-8 8s3.59 8 8 8c.28 0 .5-.22.5-.5 0-.16-.08-.28-.14-.35-.41-.46-.63-1.05-.63-1.65 0-1.38 1.12-2.5 2.5-2.5H16c2.21 0 4-1.79 4-4 0-3.86-3.59-7-8-7z\"}}),_c('circle',{attrs:{\"cx\":\"6.5\",\"cy\":\"11.5\",\"r\":\"1.5\"}}),_c('circle',{attrs:{\"cx\":\"9.5\",\"cy\":\"7.5\",\"r\":\"1.5\"}}),_c('circle',{attrs:{\"cx\":\"14.5\",\"cy\":\"7.5\",\"r\":\"1.5\"}}),_c('circle',{attrs:{\"cx\":\"17.5\",\"cy\":\"11.5\",\"r\":\"1.5\"}})])]),_c('ui-dialog',{on:{\"confirm\":_vm.onConfirm},model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('ui-dialog-title',[_vm._v(_vm._s(_vm.pickfore?\"Foreground\":\"Background\"))]),_c('ui-dialog-content',[_c('chrome-picker',{staticClass:\"picker\",model:{value:(_vm.tempColor),callback:function ($$v) {_vm.tempColor=$$v},expression:\"tempColor\"}})],1),_c('ui-dialog-actions')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue,Watch } from 'vue-property-decorator';\r\nimport {PainterApp,ToolType} from '@/scripts/DPainter'\r\nimport { Event } from 'three';\r\nimport { Chrome } from 'vue-color'\r\n\r\n@Component({\r\n  components: {\r\n    \"chrome-picker\":Chrome\r\n  }\r\n})\r\n\r\n//@Component\r\nexport default class ColorTool extends Vue {\r\n    @Prop() private app!:PainterApp;\r\n    open:boolean=false;\r\n    foreColor:string =\"#000\";\r\n    backColor:string =\"#FFF\";\r\n    tempColor:any =\"#FFF\";\r\n    pickfore:boolean= true;\r\n    foreground(){\r\n        this.pickfore = true;\r\n        this.tempColor = this.foreColor;\r\n        this.open = true;\r\n    }\r\n\r\n    background(){\r\n        this.pickfore = false;\r\n        this.tempColor = this.backColor;\r\n        this.open = true;\r\n    }\r\n\r\n    @Watch(\"app\")\r\n    onAppChange(){\r\n        this.foreColor = this.app.foregroundColor;\r\n        this.backColor = this.app.backgroundColor;\r\n    }\r\n\r\n    onConfirm(){\r\n        if(this.pickfore){\r\n            this.foreColor = this.tempColor.hex;\r\n            this.app.foregroundColor = this.foreColor;\r\n        }else{\r\n            this.backColor= this.tempColor.hex;\r\n            this.app.backgroundColor = this.backColor;\r\n        }\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorTool.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorTool.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColorTool.vue?vue&type=template&id=1a8b745c&scoped=true&\"\nimport script from \"./ColorTool.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColorTool.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ColorTool.vue?vue&type=style&index=0&id=1a8b745c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a8b745c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"scale\"},[_c('ui-slider',{attrs:{\"model\":_vm.scale},on:{\"input\":function($event){return _vm.onScaleChange($event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue,Watch } from 'vue-property-decorator';\r\nimport {PainterApp,ToolType} from '@/scripts/DPainter'\r\nimport { Event } from 'three';\r\nimport { Chrome } from 'vue-color'\r\n\r\n@Component({\r\n  components: {\r\n    \"chrome-picker\":Chrome\r\n  }\r\n})\r\n\r\n//@Component\r\nexport default class ViewTool extends Vue {\r\n    @Prop() private app!:PainterApp;\r\n    scale:number=100;\r\n    @Watch(\"app\")\r\n    onAppChange(){\r\n        this.scale = this.app.scale*100;\r\n    }\r\n\r\n    // @Watch(\"scale\")\r\n    onScaleChange(e:number){\r\n        this.scale = e;\r\n        this.app.scale = this.scale/100;\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewTool.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewTool.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ViewTool.vue?vue&type=template&id=471de300&scoped=true&\"\nimport script from \"./ViewTool.vue?vue&type=script&lang=ts&\"\nexport * from \"./ViewTool.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ViewTool.vue?vue&type=style&index=0&id=471de300&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"471de300\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport HelloWorld from '@/components/HelloWorld.vue'; // @ is an alias to /src\nimport Toolbar from '@/components/Toolbar.vue'; // @ is an alias to /src\nimport Filebar from '@/components/Filebar.vue'; // @ is an alias to /src\nimport ColorTool from '@/components/ColorTool.vue'; // @ is an alias to /src\nimport ViewTool from '@/components/ViewTool.vue'; // @ is an alias to /src\n\nimport {PainterApp, ToolType} from '@/scripts/DPainter'; // @ is an alias to /src\n\n@Component({\n  components: {\n    Toolbar,Filebar,ColorTool,ViewTool\n  }\n})\nexport default class Home extends Vue {\n  app : PainterApp = new PainterApp();\n  mounted():void{\n    this.app.onEnable(this.$refs.glCanvas as HTMLCanvasElement);\n  }\n\n  destroyed():void{\n    this.app.onDisable();\n  }\n  setTool(tool:ToolType):void{\n    this.app.setTool(tool);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=29d63822&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=ts&\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=29d63822&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29d63822\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from './views/Home.vue'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'hash',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/',\n      name: 'home',\n      component: Home\n    },\n    {\n      path: '/about',\n      name: 'about',\n      // route level code-splitting\n      // this generates a separate chunk (about.[hash].js) for this route\n      // which is lazy-loaded when the route is visited.\n      component: () => import(/* webpackChunkName: \"about\" */ './views/About.vue')\n    }\n  ]\n})\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\n// import './registerServiceWorker'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n"],"sourceRoot":""}